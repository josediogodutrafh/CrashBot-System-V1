# ‚úÖ CHECKLIST DE IMPLEMENTA√á√ÉO - CrashBot Admin Center V2

Use este checklist para garantir uma implementa√ß√£o completa e sem erros.

---

## üì¶ PR√â-INSTALA√á√ÉO

### Ambiente

- [ ] Python 3.8+ instalado
- [ ] pip atualizado (`pip install --upgrade pip`)
- [ ] Git instalado (opcional, para controle de vers√£o)
- [ ] Acesso ao servidor/m√°quina de deploy

### Banco de Dados

- [ ] PostgreSQL 12+ dispon√≠vel
- [ ] URL de conex√£o em m√£os
- [ ] Tabelas `log_bot` e `licenca` criadas
- [ ] Colunas novas adicionadas:
  - [ ] `whatsapp` (VARCHAR)
  - [ ] `telegram_chat_id` (VARCHAR)
  - [ ] `plano_tipo` (VARCHAR)
  - [ ] `email_cliente` (VARCHAR)
  - [ ] `payment_id` (VARCHAR)
- [ ] IP do servidor na whitelist (Render/AWS/etc)

---

## üîß INSTALA√á√ÉO

### 1. Download dos Arquivos

- [ ] `dashboard_v2.py` baixado
- [ ] `requirements.txt` baixado
- [ ] Documenta√ß√£o baixada (opcional):
  - [ ] `README.md`
  - [ ] `DOCUMENTACAO.md`
  - [ ] `GUIA_RAPIDO.md`
  - [ ] `QUERIES_SQL_UTEIS.md`

### 2. Instala√ß√£o de Depend√™ncias

```bash
# Execute no terminal:
pip install -r requirements.txt
```

- [ ] Streamlit instalado
- [ ] Pandas instalado
- [ ] SQLAlchemy instalado
- [ ] psycopg2-binary instalado
- [ ] Sem erros na instala√ß√£o

### 3. Verifica√ß√£o

```bash
# Teste se foi instalado corretamente:
python -c "import streamlit; import pandas; import sqlalchemy; print('‚úÖ Tudo OK!')"
```

- [ ] Comando executado sem erros

---

## ‚öôÔ∏è CONFIGURA√á√ÉO

### 1. Ajustar URL do Banco

üìç Abra `dashboard_v2.py` - **Linha 51**

```python
DB_URL = "postgresql://usuario:senha@host:porta/database"
```

- [ ] URL configurada
- [ ] Formato correto: `postgresql://` (n√£o `postgres://`)
- [ ] Credenciais corretas
- [ ] Host e porta corretos

### 2. Configurar Pre√ßos dos Planos

üìç Abra `dashboard_v2.py` - **Linha 215**

```python
PRECOS_PLANOS = {
    "Experimental": 49.90,   # ‚Üê Seu pre√ßo aqui
    "Semanal": 149.00,       # ‚Üê Seu pre√ßo aqui
    "Mensal": 499.00,        # ‚Üê Seu pre√ßo aqui
}
```

- [ ] Pre√ßos ajustados para valores reais
- [ ] Nomes dos planos correspondem ao banco

### 3. Ajustes Opcionais

**Cache TTL** (Linha 69):

```python
@st.cache_data(ttl=60)  # Padr√£o: 60 segundos
```

- [ ] TTL configurado (60s recomendado)

**Alerta de Expira√ß√£o** (Linha 172):

```python
elif dias_restantes <= 3:  # Padr√£o: 3 dias
```

- [ ] Dias de alerta configurados

---

## üß™ TESTES

### Teste 1: Conex√£o com Banco

```bash
streamlit run dashboard_v2.py
```

- [ ] Aplica√ß√£o iniciou sem erros
- [ ] N√£o apareceu erro de conex√£o
- [ ] Dashboard carregou

### Teste 2: Carregamento de Dados

No dashboard:

- [ ] Sidebar aparece corretamente
- [ ] Filtro de dias funciona
- [ ] Dados aparecem nas abas

### Teste 3: Vis√£o Macro (Aba 1)

- [ ] Cart√µes de m√©tricas aparecem:
  - [ ] Faturamento Recorrente
  - [ ] Clientes Ativos
  - [ ] Vencidas
  - [ ] Expirando
- [ ] Gr√°fico de distribui√ß√£o de planos aparece
- [ ] M√©tricas operacionais aparecem
- [ ] Gr√°fico de tend√™ncia de lucro aparece

### Teste 4: Auditoria Individual (Aba 2)

- [ ] Dropdown de clientes funciona
- [ ] Pode selecionar um cliente
- [ ] Card de informa√ß√µes aparece
- [ ] KPIs individuais calculam corretamente
- [ ] Gr√°fico de evolu√ß√£o aparece
- [ ] Tabela de atividades mostra logs

### Teste 5: CRM (Aba 3)

- [ ] Filtros aparecem:
  - [ ] Status (multi-select)
  - [ ] Plano (multi-select)
  - [ ] Canal (dropdown)
- [ ] Filtros funcionam corretamente
- [ ] Estat√≠sticas r√°pidas atualizam
- [ ] Tabela de clientes aparece
- [ ] Bot√£o de exporta√ß√£o funciona
- [ ] CSV baixa corretamente

### Teste 6: Funcionalidades Especiais

- [ ] Bot√£o "Atualizar Dados" limpa cache
- [ ] Status temporal aparece corretamente:
  - [ ] üü¢ Ativa (>3 dias)
  - [ ] üü° Expirando (‚â§3 dias)
  - [ ] üî¥ Vencida (<0 dias)
- [ ] Campos vazios aparecem como "N√£o informado"

---

## üîí SEGURAN√áA

### Verifica√ß√µes de Seguran√ßa

- [ ] Senha do banco N√ÉO est√° commitada no Git
- [ ] URL do banco em vari√°vel de ambiente (produ√ß√£o)
- [ ] HTTPS configurado (se em produ√ß√£o)
- [ ] Acesso restrito ao dashboard (firewall/VPN)
- [ ] Backup do banco configurado

### Boas Pr√°ticas

```python
# Recomendado para produ√ß√£o:
import os
DB_URL = os.environ.get('DATABASE_URL')

# Ou usar Streamlit Secrets:
import streamlit as st
DB_URL = st.secrets["database"]["url"]
```

- [ ] Credenciais em arquivo .env (n√£o commitado)
- [ ] .gitignore configurado

---

## üöÄ DEPLOY

### Deploy Local

```bash
streamlit run dashboard_v2.py
```

- [ ] Aplica√ß√£o rodando em http://localhost:8501
- [ ] Acesso via navegador funciona

### Deploy Streamlit Cloud (Opcional)

1. Criar conta no streamlit.io
2. Conectar reposit√≥rio GitHub
3. Configurar secrets (DB_URL)
4. Deploy autom√°tico

- [ ] App deployado no Streamlit Cloud
- [ ] URL p√∫blica funcionando
- [ ] Secrets configurados

### Deploy em Servidor (VPS/Cloud)

```bash
# Instalar no servidor:
pip install -r requirements.txt

# Executar em background:
nohup streamlit run dashboard_v2.py --server.port 8501 &

# Ou usar PM2:
pm2 start "streamlit run dashboard_v2.py" --name crashbot-dashboard
```

- [ ] Aplica√ß√£o rodando em servidor
- [ ] Porta 8501 liberada no firewall
- [ ] Processo rodando em background
- [ ] Auto-restart configurado

---

## üìä VALIDA√á√ÉO FINAL

### Dados

- [ ] Faturamento calculado est√° correto
- [ ] N√∫mero de clientes ativos confere
- [ ] Status das licen√ßas est√° correto
- [ ] Lucro da rede confere com banco
- [ ] Logs aparecem corretamente

### Performance

- [ ] Dashboard carrega em <5 segundos
- [ ] Filtros respondem instantaneamente
- [ ] Gr√°ficos renderizam sem lag
- [ ] Cache funciona (segundo acesso √© r√°pido)

### UX/UI

- [ ] Cores da marca aplicadas (#00FFA3)
- [ ] Textos em portugu√™s corretos
- [ ] √çcones aparecem corretamente
- [ ] Layout responsivo (funciona em telas menores)
- [ ] Sem erros no console do navegador

---

## üìö DOCUMENTA√á√ÉO

### Para a Equipe

- [ ] README compartilhado
- [ ] Guia r√°pido acess√≠vel
- [ ] Queries SQL documentadas
- [ ] V√≠deo/tutorial criado (opcional)

### Treinamento

- [ ] Equipe treinada na Aba 1 (Vis√£o Macro)
- [ ] Equipe treinada na Aba 2 (Auditoria)
- [ ] Equipe treinada na Aba 3 (CRM)
- [ ] Casos de uso comuns documentados

---

## üîÑ P√ìS-DEPLOY

### Monitoramento (Primeira Semana)

- [ ] Verificar logs diariamente
- [ ] Confirmar c√°lculos financeiros
- [ ] Coletar feedback da equipe
- [ ] Identificar bugs/melhorias

### Backup

- [ ] Backup do c√≥digo atual
- [ ] Backup do banco de dados
- [ ] Documenta√ß√£o versionada

### Otimiza√ß√£o

- [ ] √çndices criados no banco:

```sql
CREATE INDEX idx_log_bot_timestamp ON log_bot(timestamp);
CREATE INDEX idx_log_bot_hwid ON log_bot(hwid);
CREATE INDEX idx_licenca_ativa_expiracao ON licenca(ativa, data_expiracao);
```

- [ ] Performance monitorada
- [ ] Cache TTL ajustado conforme uso

---

## üéØ PR√ìXIMOS PASSOS

### Curto Prazo (Semana 1-2)

- [ ] Coletar feedback da equipe
- [ ] Ajustar pre√ßos/configura√ß√µes conforme necess√°rio
- [ ] Criar relat√≥rio de uso

### M√©dio Prazo (M√™s 1)

- [ ] Implementar automa√ß√£o de renova√ß√£o
- [ ] Criar bot de WhatsApp/Telegram
- [ ] Expandir m√©tricas de BI

### Longo Prazo (Trimestre 1)

- [ ] API REST para integra√ß√µes
- [ ] Dashboard mobile
- [ ] Relat√≥rios automatizados

---

## ‚ö†Ô∏è TROUBLESHOOTING R√ÅPIDO

### Erro Comum 1: "Cannot connect to database"

```bash
# Verificar:
1. URL do banco est√° correta?
2. IP est√° na whitelist?
3. Credenciais est√£o corretas?
4. Banco est√° online?

# Testar manualmente:
psql postgresql://usuario:senha@host/db
```

### Erro Comum 2: "Module not found"

```bash
pip install -r requirements.txt
```

### Erro Comum 3: Tabela vazia

```bash
# Verificar:
1. H√° dados no per√≠odo selecionado?
2. Filtros n√£o est√£o muito restritivos?
3. Bots est√£o enviando dados?
```

### Erro Comum 4: C√°lculos incorretos

```bash
# Verificar:
1. PRECOS_PLANOS est√£o corretos?
2. Nomes dos planos coincidem com banco?
3. Dados do banco est√£o corretos?
```

---

## üìû SUPORTE

### Recursos

- üìö [README.md](README.md) - Vis√£o geral
- üìö [DOCUMENTACAO.md](DOCUMENTACAO.md) - T√©cnico
- üìö [GUIA_RAPIDO.md](GUIA_RAPIDO.md) - Uso pr√°tico
- üìö [QUERIES_SQL_UTEIS.md](QUERIES_SQL_UTEIS.md) - An√°lises

### Contato

- üí¨ Equipe de desenvolvimento
- üìß Email de suporte
- üíª GitHub Issues (se aplic√°vel)

---

## ‚úÖ CHECKLIST FINAL

Antes de marcar como "CONCLU√çDO", verifique:

- [ ] ‚úÖ Todos os testes passaram
- [ ] ‚úÖ Configura√ß√µes ajustadas
- [ ] ‚úÖ Deploy realizado com sucesso
- [ ] ‚úÖ Equipe treinada
- [ ] ‚úÖ Documenta√ß√£o distribu√≠da
- [ ] ‚úÖ Backup criado
- [ ] ‚úÖ Monitoramento ativo

---

## üéâ IMPLEMENTA√á√ÉO CONCLU√çDA!

Parab√©ns! O CrashBot Admin Center V2 est√° rodando!

**Data de Conclus√£o:** \_**\_/\_\_**/**\_\_\_\_**  
**Respons√°vel:** **********\_\_\_**********  
**Vers√£o:** 2.0

---

**Pr√≥ximas revis√µes:** Mensal  
**√öltima atualiza√ß√£o deste checklist:** 27/11/2025
